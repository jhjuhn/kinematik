<!DOCTYPE HTML>
<html>

<head>
<meta charset=utf-8>
<title>kinematik</title>

<style>
* { margin: 0; padding: 0; }
html, body {
	margin: 0;
	padding: 0;
}
canvas { display: block; }
</style>

<!-- external libraries -->
<script src="three.min.js"></script>
<script src="numeric-1.2.6.min.js"></script>


<script src="three.orbitcontrols.js"></script>

<script src="v4.js"></script>
<script src="denavithartenberg.js"></script>
<script src="frame.js"></script>

<script>
var kinematik = {};




</script>


<!-- main.js -->
<script>
var camera;
var renderer;
var scene;

var orbitcontrols;

function initTHREE(){
	// initialise camera
	camera = new THREE.PerspectiveCamera(
		45,
		window.innerWidth/window.innerHeight,
		0.1, 1000 );
	
	// initial position of camera
	camera.up.set(0, 0, 1);
	camera.position.z = 10;

	// initialise renderer and scene
	renderer = new THREE.WebGLRenderer();
	scene = new THREE.Scene();

	// append canvas to document
	document.body.appendChild(renderer.domElement);

}

var f1, f2;
function init(){
	// initialise webGL things.
	initTHREE();

	// initialise kinematik.	
	f1 = new Frame();
	f1.visual_init(camera, renderer, scene);

	f2 = new Frame();
	f2.visual_init(camera, renderer, scene);
	

	orbitcontrols = new THREE.OrbitControls(camera, renderer.domElement);
}

function render(){
	// adjust camera and renderer in response to any viewport size change.
	camera.aspect = window.innerWidth/window.innerHeight;
	camera.updateProjectionMatrix();

	renderer.setSize(window.innerWidth, window.innerHeight);

	// render the scene as seen through camera.
	renderer.render(scene, camera);
}

var _t = 0;
function timestep(){
	_t += 0.01;
	f1.visual_sync();

	f2.transform_mat4set(new DenavitHartenberg(0, 0, 0, 0).tomat4());
	f2.visual_sync();

	requestAnimationFrame(timestep);

	render();
}


</script>

</head>
<body></body>
<script>init(); timestep(); </script>
</html>
